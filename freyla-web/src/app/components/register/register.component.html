<div class="register-wrapper">
  <div class="register-card">
    <div class="register-header text-center">
      <h1 class="mb-1">{{ title }}</h1>
      <p>Crea tu cuenta para unirte a la comunidad Freyla</p>
    </div>

    <form #f="ngForm" (ngSubmit)="onSubmit(f)">
      <div class="form-group mb-3">
        <label for="name">Nombre</label>
        <input
          type="text"
          class="form-control"
          id="name"
          name="name"
          [(ngModel)]="user.name"
          placeholder="Escribe tu nombre"
          required
        />
      </div>

      <div class="form-group mb-3">
        <label for="surname">Apellido</label>
        <input
          type="text"
          class="form-control"
          id="surname"
          name="surname"
          [(ngModel)]="user.surname"
          placeholder="Escribe tu apellido"
          required
        />
      </div>

      <div class="form-group mb-3">
        <label for="nick">Nick</label>
        <input
          type="text"
          class="form-control"
          id="nick"
          name="nick"
          [(ngModel)]="user.nick"
          placeholder="Escribe tu nick"
          required
        />
        <small class="text-danger" *ngIf="nickTaken">Este nick ya esta en uso.</small>
      </div>

      <div class="form-group mb-3">
        <label for="email">Correo electronico</label>
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          [(ngModel)]="user.email"
          placeholder="Escribe tu correo electronico"
          required
        />
        <small class="text-danger" *ngIf="emailTaken">Este correo ya esta en uso.</small>
      </div>

      <div class="form-group mb-4">
        <label for="password">Contraseña</label>
        <input
          type="password"
          class="form-control"
          id="password"
          name="password"
          [(ngModel)]="user.password"
          placeholder="Escribe tu contrasena"
          required
        />
      </div>

      <button type="submit" class="btn btn-primary w-100" [disabled]="loading">
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
        <span>{{ loading ? 'Registrando...' : 'Registrarse' }}</span>
      </button>

      <div class="register-footer text-center">
        <span>¿Ya tienes cuenta?</span>
        <a routerLink="/login">Inicia sesión aquí</a>
      </div>
    </form>
  </div>
</div>
